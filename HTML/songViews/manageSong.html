<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Upload Song</title>
    <!-- Description, Keywords and Author -->
    <meta name="description" content="Your description">
    <meta name="keywords" content="Your,Keywords">
    <meta name="author" content="HimanshuGupta">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    <link rel="stylesheet" href="../../lib/sweetalert2.css">
    <!-- Styles -->
    <!-- Bootstrap CSS -->
    <link href="../../HTML/css/bootstrap.min.css" rel="stylesheet">
    <!-- Animate CSS -->
    <link href="../../HTML/css/animate.min.css" rel="stylesheet">
    <!-- Basic stylesheet -->
    <link rel="stylesheet" href="../../HTML/css/owl.carousel.css">
    <!-- Font awesome CSS -->
    <link href="../../HTML/css/font-awesome.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../../HTML/css/style.css" rel="stylesheet">
    <link href="../../HTML/css/style-color.css" rel="stylesheet">

    <!-- Favicon -->
    <link rel="shortcut icon" href="../../HTML/img/logo/favicon.ico">
</head>

<body>
<!-- modal for booking ticket form -->
<div class="modal fade" id="bookTicket" tabindex="-1" role="dialog" aria-labelledby="BookTicket">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">Name of The Event &nbsp; <small><span
                        class="label label-success">Available</span> &nbsp; <span class="label label-danger">Not Available</span></small>
                </h4>
            </div>
            <!-- form for events ticket booking -->
            <form>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Email</label>
                        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="example@mail.com">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputContact">Contact</label>
                        <input type="text" class="form-control" id="exampleInputContact" placeholder="+91 55 5555 5555">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputSeats">Number of Tickets</label>
                        <select class="form-control" id="exampleInputSeats">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                        </select>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox"> I accept the Terms of Service
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <!-- link to payment gatway here -->
                    <button type="button" class="btn btn-primary">Book Now</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- wrapper -->
<div class="wrapper" id="home">

    <!-- header area -->
    <header>
        <!-- secondary menu -->
        <nav class="secondary-menu">
            <div class="container">
                <!-- secondary menu left link area -->
                <div class="sm-left">
                    <strong>Phone</strong>:&nbsp; <a href="#">555 555 555</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <strong>E-mail</strong>:&nbsp; <a href="#">music.site@melodi.com</a>
                </div>
                <!-- secondary menu right link area -->
                <div class="sm-right">
                    <!-- social link -->
                    <div class="sm-social-link">
                        <a class="h-facebook" href="#"><i class="fa fa-facebook"></i></a>
                        <a class="h-twitter" href="#"><i class="fa fa-twitter"></i></a>
                        <a class="h-google" href="#"><i class="fa fa-google-plus"></i></a>
                        <a class="h-linkedin" href="#"><i class="fa fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </nav>
        <!-- primary menu -->
        <nav class="navbar navbar-fixed-top navbar-default">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <!-- logo area -->
                    <a class="navbar-brand" href="../index.html">
                        <!-- logo image -->
                        <img class="img-responsive" src="../img/logo/logo.png" alt=""/>
                    </a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
    </header>
    <!--/ header end -->

    <!-- banner area -->
    <div class="banner">
        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="../img/banner/b1.jpg" alt="...">
                    <div class="container">
                        <!-- banner caption -->
                        <div class="carousel-caption slide-one">
                            <!-- heading -->
                            <h2 class="animated fadeInLeftBig"><i class="fa fa-music"></i> Melodi For You!</h2>
                            <!-- paragraph -->
                            <h3 class="animated fadeInRightBig">Find More Innovative &amp; Creative Music Albums.</h3>
                            <!-- button -->
                            <a href="#" class="animated fadeIn btn btn-theme">Download Here</a>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <img src="../img/banner/b2.jpg" alt="...">
                    <div class="container">
                        <!-- banner caption -->
                        <div class="carousel-caption slide-two">
                            <!-- heading -->
                            <h2 class="animated fadeInLeftBig"><i class="fa fa-headphones"></i> Listen It...</h2>
                            <!-- paragraph -->
                            <h3 class="animated fadeInRightBig">Lorem ipsum dolor sit amet, consectetur elit.</h3>
                            <!-- button -->
                            <a href="#" class="animated fadeIn btn btn-theme">Listen Now</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                <span class="fa fa-arrow-left" aria-hidden="true"></span>
            </a>
            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                <span class="fa fa-arrow-right" aria-hidden="true"></span>
            </a>
        </div>
    </div>
    <!--/ banner end -->

    <!-- block for animate navigation menu -->
    <div class="nav-animate"></div>

    <!-- Hero block area -->
    <div id="latestAlbum" class="hero pad">
        <div class="container">
            <!-- hero content -->
            <div class="hero-content ">
                <!-- heading -->
                <h2>Manage Song</h2>
                <hr>
                <!-- paragraph -->
                <p>We sing the best <strong class="theme-color">Songs</strong> and now we control the world best <strong
                        class="theme-color">Music</strong>.</p>
            </div>
            <!-- hero play list -->
            <div class="hero-playlist">
                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <!-- music album image -->
                        <div class="figure">
                            <!-- image -->
                            <img class="img-responsive" src="../../HTML/img/album/1.jpg" alt=""/>
                            <!-- disk image -->
                            <img class="img-responsive disk" src="../../HTML/img/album/disk.png" alt=""/>
                        </div>
                        <!-- album details -->
                        <div class="album-details">
                            <!-- title -->
                            <h4>Perfect Melodi</h4>
                            <!-- composed by -->
                            <h5>By Himanshu</h5>
                            <!-- paragraph -->
                            <p>Lorem Ipsum has been the industry's standard dummy text ever since 1500.</p>
                            <!-- button -->
                            <a href="#" class="btn btn-lg btn-theme" id="playNowBtn"><i class="fa fa-play"></i>&nbsp;
                                Play Now</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-6">
                        <!-- play list -->
                        <div class="playlist-content">
                            <ul class="list-unstyled" id="listSong">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--/ hero end -->

    <!-- promo -->
    <div class="promo parallax-one pad">
        <div class="container">
            <!-- promo element -->
            <div class="promo-element ">
                <!-- heading -->
                <!-- paragraph -->
                <!-- link -->
            </div>
        </div>
    </div>
    <!--/ promo end -->

    <!-- Create Song -->
<!--    <div class="featured pad" id="featuredalbum">-->
<!--        <div class="container">-->
<!--            &lt;!&ndash; default heading &ndash;&gt;-->
<!--            <div class="default-heading">-->
<!--                &lt;!&ndash; heading &ndash;&gt;-->
<!--                <h2>Featured Album</h2>-->
<!--            </div>-->
<!--            &lt;!&ndash; featured album elements &ndash;&gt;-->
<!--            <div class="featured-element">-->
<!--                <div class="row">-->
<!--                    <div class="col-md-4 col-sm-6">-->
<!--                        &lt;!&ndash; featured item &ndash;&gt;-->
<!--                        <div class="featured-item ">-->
<!--                            &lt;!&ndash; image container &ndash;&gt;-->
<!--                            <div class="figure">-->
<!--                                &lt;!&ndash; image &ndash;&gt;-->
<!--                                <img class="img-responsive" src="../../HTML/img/featured/1.jpg" alt=""/>-->
<!--                                &lt;!&ndash; paragraph &ndash;&gt;-->
<!--                                <p>There are many variations of passages available, but the majority have suffered Lorem-->
<!--                                    alteration in some form, by injected look even slightly believable.</p>-->
<!--                            </div>-->
<!--                            &lt;!&ndash; featured information &ndash;&gt;-->
<!--                            <div class="featured-item-info">-->
<!--                                &lt;!&ndash; featured title &ndash;&gt;-->
<!--                                <h4>Power Pop</h4>-->
<!--                                &lt;!&ndash; horizontal line &ndash;&gt;-->
<!--                                <hr/>-->
<!--                                &lt;!&ndash; some responce from social medial or web likes &ndash;&gt;-->
<!--                                <p>1024+ <span class="label label-theme">Like</span> &nbsp;&nbsp; 825+ <span-->
<!--                                        class="label label-theme">Love</span></p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4 col-sm-6">-->
<!--                        &lt;!&ndash; featured item &ndash;&gt;-->
<!--                        <div class="featured-item ">-->
<!--                            &lt;!&ndash; image container &ndash;&gt;-->
<!--                            <div class="figure">-->
<!--                                &lt;!&ndash; image &ndash;&gt;-->
<!--                                <img class="img-responsive" src="../../HTML/img/featured/2.jpg" alt=""/>-->
<!--                                &lt;!&ndash; paragraph &ndash;&gt;-->
<!--                                <p>There are many variations of passages available, but the majority have suffered Lorem-->
<!--                                    alteration in some form, by injected look even slightly believable.</p>-->
<!--                            </div>-->
<!--                            &lt;!&ndash; featured information &ndash;&gt;-->
<!--                            <div class="featured-item-info">-->
<!--                                &lt;!&ndash; featured title &ndash;&gt;-->
<!--                                <h4>Bad Brains</h4>-->
<!--                                &lt;!&ndash; horizontal line &ndash;&gt;-->
<!--                                <hr/>-->
<!--                                &lt;!&ndash; some responce from social medial or web likes &ndash;&gt;-->
<!--                                <p>1024+ <span class="label label-theme">Like</span> &nbsp;&nbsp; 825+ <span-->
<!--                                        class="label label-theme">Love</span></p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4 col-sm-6">-->
<!--                        &lt;!&ndash; featured item &ndash;&gt;-->
<!--                        <div class="featured-item ">-->
<!--                            &lt;!&ndash; image container &ndash;&gt;-->
<!--                            <div class="figure">-->
<!--                                &lt;!&ndash; image &ndash;&gt;-->
<!--                                <img class="img-responsive" src="../../HTML/img/featured/3.jpg" alt=""/>-->
<!--                                &lt;!&ndash; paragraph &ndash;&gt;-->
<!--                                <p>There are many variations of passages available, but the majority have suffered Lorem-->
<!--                                    alteration in some form, by injected look even slightly believable.</p>-->
<!--                            </div>-->
<!--                            &lt;!&ndash; featured information &ndash;&gt;-->
<!--                            <div class="featured-item-info">-->
<!--                                &lt;!&ndash; featured title &ndash;&gt;-->
<!--                                <h4>The Mars Volta</h4>-->
<!--                                &lt;!&ndash; horizontal line &ndash;&gt;-->
<!--                                <hr/>-->
<!--                                &lt;!&ndash; some responce from social medial or web likes &ndash;&gt;-->
<!--                                <p>1024+ <span class="label label-theme">Like</span> &nbsp;&nbsp; 825+ <span-->
<!--                                        class="label label-theme">Love</span></p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4 col-sm-6">-->
<!--                        &lt;!&ndash; featured item &ndash;&gt;-->
<!--                        <div class="featured-item ">-->
<!--                            &lt;!&ndash; image container &ndash;&gt;-->
<!--                            <div class="figure">-->
<!--                                &lt;!&ndash; image &ndash;&gt;-->
<!--                                <img class="img-responsive" src="../../HTML/img/featured/4.jpg" alt=""/>-->
<!--                                &lt;!&ndash; paragraph &ndash;&gt;-->
<!--                                <p>There are many variations of passages available, but the majority have suffered Lorem-->
<!--                                    alteration in some form, by injected look even slightly believable.</p>-->
<!--                            </div>-->
<!--                            &lt;!&ndash; featured information &ndash;&gt;-->
<!--                            <div class="featured-item-info">-->
<!--                                &lt;!&ndash; featured title &ndash;&gt;-->
<!--                                <h4>Dirty Dancing</h4>-->
<!--                                &lt;!&ndash; horizontal line &ndash;&gt;-->
<!--                                <hr/>-->
<!--                                &lt;!&ndash; some responce from social medial or web likes &ndash;&gt;-->
<!--                                <p>1024+ <span class="label label-theme">Like</span> &nbsp;&nbsp; 825+ <span-->
<!--                                        class="label label-theme">Love</span></p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4 col-sm-6">-->
<!--                        &lt;!&ndash; featured item &ndash;&gt;-->
<!--                        <div class="featured-item ">-->
<!--                            &lt;!&ndash; image container &ndash;&gt;-->
<!--                            <div class="figure">-->
<!--                                &lt;!&ndash; image &ndash;&gt;-->
<!--                                <img class="img-responsive" src="../../HTML/img/featured/5.jpg" alt=""/>-->
<!--                                &lt;!&ndash; paragraph &ndash;&gt;-->
<!--                                <p>There are many variations of passages available, but the majority have suffered Lorem-->
<!--                                    alteration in some form, by injected look even slightly believable.</p>-->
<!--                            </div>-->
<!--                            &lt;!&ndash; featured information &ndash;&gt;-->
<!--                            <div class="featured-item-info">-->
<!--                                &lt;!&ndash; featured title &ndash;&gt;-->
<!--                                <h4>Hotel California</h4>-->
<!--                                &lt;!&ndash; horizontal line &ndash;&gt;-->
<!--                                <hr/>-->
<!--                                &lt;!&ndash; some responce from social medial or web likes &ndash;&gt;-->
<!--                                <p>1024+ <span class="label label-theme">Like</span> &nbsp;&nbsp; 825+ <span-->
<!--                                        class="label label-theme">Love</span></p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4 col-sm-6">-->
<!--                        &lt;!&ndash; featured item &ndash;&gt;-->
<!--                        <div class="featured-item ">-->
<!--                            &lt;!&ndash; image container &ndash;&gt;-->
<!--                            <div class="figure">-->
<!--                                &lt;!&ndash; image &ndash;&gt;-->
<!--                                <img class="img-responsive" src="../../HTML/img/featured/6.jpg" alt=""/>-->
<!--                                &lt;!&ndash; paragraph &ndash;&gt;-->
<!--                                <p>There are many variations of passages available, but the majority have suffered Lorem-->
<!--                                    alteration in some form, by injected look even slightly believable.</p>-->
<!--                            </div>-->
<!--                            &lt;!&ndash; featured information &ndash;&gt;-->
<!--                            <div class="featured-item-info">-->
<!--                                &lt;!&ndash; featured title &ndash;&gt;-->
<!--                                <h4>Punk Compilation</h4>-->
<!--                                &lt;!&ndash; horizontal line &ndash;&gt;-->
<!--                                <hr/>-->
<!--                                &lt;!&ndash; some responce from social medial or web likes &ndash;&gt;-->
<!--                                <p>1024+ <span class="label label-theme">Like</span> &nbsp;&nbsp; 825+ <span-->
<!--                                        class="label label-theme">Love</span></p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
</div>
<div class="contact pad" id="contact">
    <div class="row">
        <div class="col-md-6 col-sm-6">
            <div class="form-group">
                <label>Name</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="Enter name">
            </div>
            <div class="form-group">
                <label>Artist</label>
                <input type="text" class="form-control" id="artist" name="artist" placeholder="Enter artist">
            </div>
            <div class="form-group">
                <label>File</label>
                <progress value="0" max="100" id="uploader">0%</progress>
                <input type="file" value="upload" accept="" id="fileAudio">
            </div>
            <div class="form-group">
                <label>Description</label>
                <input type="text" class="form-control" id="description" name="description"
                       placeholder="Enter description">
            </div>
            <div class="form-group">
                <label>Composer</label>
                <input type="text" class="form-control" id="composer" name="composer" placeholder="Enter composer">
            </div>
        </div>
    </div>
    <div class="">
        <button type="submit" onclick="create()" class="btn btn-lg btn-theme">Create a song</button>
    </div>

</div>
<!--    Edit-->
<div>
    <div class="modal fade" id="exampleModalEdit" tabindex="-1" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="edit">Form Edit</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Name</label>
                        <input id="nameEdit" type="text" class="form-control" aria-describedby="emailHelp" value="">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Artist</label>
                        <input id="artistEdit" type="text" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Date</label>
                        <input id="dateEdit" type="text" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <input id="descriptionEdit" type="text" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Composer</label>
                        <input id="composerEdit" type="text" class="form-control">
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="edit()" data-bs-dismiss="modal">Save
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>
<!-- contact end -->

<!-- footer -->
<footer>
    <div class="container">
        <!-- social media links -->
        <div class="social">
            <a class="h-facebook" href="#"><i class="fa fa-facebook"></i></a>
            <a class="h-google" href="#"><i class="fa fa-google-plus"></i></a>
            <a class="h-linkedin" href="#"><i class="fa fa-linkedin"></i></a>
            <a class="h-twitter" href="#"><i class="fa fa-twitter"></i></a>
        </div>
        <!-- copy right -->
        <p class="copy-right">&copy; copyright 2018, All rights are reserved.</p>
    </div>
</footer>
<!-- footer end -->

<!-- Scroll to top -->
<span class="totop"><a href="#"><i class="fa fa-chevron-up"></i></a></span>

</div>

<!-- Javascript files -->
<!-- jQuery -->
<script src="../../HTML/js/jquery.js"></script>
<!-- Bootstrap JS -->
<script src="../../HTML/js/bootstrap.min.js"></script>
<!-- WayPoints JS -->
<script src="../../HTML/js/waypoints.min.js"></script>
<!-- Include js plugin -->
<script src="../../HTML/js/owl.carousel.min.js"></script>
<!-- One Page Nav -->
<script src="../../HTML/js/jquery.nav.js"></script>
<!-- Respond JS for IE8 -->
<script src="../../HTML/js/respond.min.js"></script>
<!-- HTML5 Support for IE -->
<script src="../../HTML/js/html5shiv.js"></script>
<!-- Custom JS -->
<script src="../../HTML/js/custom.js"></script>

<body>
<script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
<script>
    const btn_close = document.querySelector(".btn-close");
    const modal = document.querySelector("#exampleModalEdit");
    const body = document.querySelector("body");
    btn_close.addEventListener("click",()=>{
        const modal_backdrop = document.querySelector(".modal-backdrop");
        modal.style.display = "none";
        body.classList.remove("body");
        modal_backdrop.remove();
    })

    const firebaseConfig = {
        apiKey: "AIzaSyC86yZXmDo5Ik4X38d9Jj-NN7L6uWT5HFI",
        authDomain: "music-94471.firebaseapp.com",
        projectId: "music-94471",
        storageBucket: "music-94471.appspot.com",
        messagingSenderId: "416714424793",
        appId: "1:416714424793:web:de90ba2b3e9c4b697099c8",
        measurementId: "G-4FT6L7DWFW"
    };
    firebase.initializeApp(firebaseConfig);
</script>
<script type="text/javascript">
    let image = '';
    let fbBucketName = 'images';
    let uploader = document.getElementById('uploader');
    let fileAudio = document.getElementById('fileAudio');


    fileAudio.addEventListener('change', function (e) {
        let file = e.target.files[0];
        let storageRef = firebase.storage().ref(`${fbBucketName}/${file.name}`);
        let uploadTask = storageRef.put(file);
        uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'
            function (snapshot) {
                let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                uploader.value = progress;
                switch (snapshot.state) {
                    case firebase.storage.TaskState.PAUSED: // or 'paused'
                        break;
                    case firebase.storage.TaskState.RUNNING: // or 'running'
                        break;
                }
            }, function (error) {
                switch (error.code) {
                    case 'storage/unauthorized':
                        break;

                    case 'storage/canceled':
                        break;

                    case 'storage/unknown':
                        break;
                }
            }, function () {
                let downloadURL = uploadTask.snapshot.downloadURL;
                //đây là link file audio
                localStorage.setItem('audio', downloadURL);
            });
    });
</script>
</body>
<script>
    showAll();

    function showAll() {
        $.ajax({
            type: 'GET',
            url: "http://localhost:8080/song",
            success: (songs) => {
                let htmlSongs = ``;
                for (let i = 0; i < songs.length; i++) {
                    htmlSongs += `<li class="playlist-number">
                                    <div class="song-info" style="size:auto">
                                    <h4>${songs[i].name}</h4>
                                    <p><strong>Id</strong>: ${songs[i]._id}</p>
                                    </div>

                                     <button onclick="showFormDelete('${songs[i]._id}')" class="fa fa-trash" aria-hidden="true"></button>
                                     <button  onclick="showFormEdit('${songs[i]._id}')" data-toggle="modal" data-target="#exampleModalEdit" class="fa fa-cog" aria-hidden="true"</button>
                                     <button  id="likebtn"  class="fa fa-thumbs-up"  </button>

                                     <button  id="dislikebtn"  class="fa fa-thumbs-down"></button>
                                    </li>`
                }
                $('#listSong').html(htmlSongs);
            }
        })
    };

    function create() {
        let name = $('#name').val();
        let artist = $('#artist').val();
        let file = localStorage.getItem('audio');
        let date = new Date().toLocaleDateString().padStart(10, '0')
        let description = $('#description').val();
        let composer = $('#composer').val();

        let song = {
            name: name,
            artist: artist,
            file: file,
            date: date,
            description: description,
            composer: composer
        }
        console.log(song)
        $.ajax({
            type: 'POST',
            url: "http://localhost:8080/song",
            headers: {
                'Content-type': 'application/json',
            },
            data: JSON.stringify(song),
            success: () => {
                resetFormCreate()
                showAll()
            }
        })
    };

    function resetFormCreate() {
        $('#name').val('');
        $('#artist').val('');
        $('#fileAudio').val('');
        $('#date').val('');
        $('#description').val('');
        $('#composer').val('');
    }

    function showFormDelete(id) {

        $.ajax({
            type: 'DELETE',
            url: `http://localhost:8080/song/${id}`,
            headers: {
                'Content-type': 'application/json',
            },
            success: () => {
                showAll()
            }
        });

    }

    let editId;

    function showFormEdit(id) {
        $.ajax({
            type: 'GET',
            url: `http://localhost:8080/song/${id}`,
            success: (song) => {
                $('#nameEdit').val(song.name);
                $('#artistEdit').val(song.artist);
                $('#dateEdit').val(song.date);
                $('#descriptionEdit').val(song.description);
                editId = id;
            }
        })
    }

    function edit() {
        let id = editId;
        let name = $('#nameEdit').val();
        let artist = $('#artistEdit').val();
        let description = $('#descriptionEdit').val();
        let song = {
            name: name,
            artist: artist,
            description: description
        }
        $.ajax({
            type: 'PUT',
            url: `http://localhost:8080/song/${id}`,
            headers: {
                'Content-type': 'application/json',
            },
            data: JSON.stringify(song),
            success: () => {
                showAll();
            }
        })
    }

    function findSong(){
        let search = $('#search').val();
        let keySearch = {
            keyWord:search
        }
        $.ajax({
            type: 'POST',
            url: "http://localhost:8080/song/search",
            headers: {
                'Content-type': 'application/json',
            },
            data: JSON.stringify(keySearch),
            success: (songs) => {
                console.log(songs)
                let htmlSongs = ``;

                for (let i = 0; i < songs.length; i++) {
                    htmlSongs += `<li class="playlist-number">
                                    <div class="song-info">
                                    <h4>${songs[i].name}</h4>
                                    <p><strong>Composer</strong>: ${songs[i].composer}  &nbsp;|&nbsp; <strong>Artist</strong>: ${songs[i].artist}</p>
                                    </div>
                                   <audio controls>
  <source src="${songs[i].file}" type="audio/ogg">
  <source src="" type="audio/ogg">
</audio>
                                     <button onclick="showFormDelete('${songs[i]._id}')">Delete</button>
                                     <button  onclick="showFormEdit('${songs[i]._id}')" data-toggle="modal" data-target="#exampleModalEdit">Edit</button>
                                    <div class="clearfix"></div>
                                    </li>`
                }
                $('#listSong').html(htmlSongs);
            }
        })
    };


</script>
</body>
</html>